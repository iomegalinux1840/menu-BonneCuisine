<div class="menu-item <%= 'has-image' if menu_item.image.attached? %>" data-menu-item-id="<%= menu_item.id %>">
  <% begin %>
    <% if menu_item.image.attached? %>
      <div class="menu-item-image">
        <%= image_tag menu_item.image.variant(:card), alt: menu_item.name, class: "menu-item-photo" %>
      </div>
    <% else %>
      <div class="menu-item-image-placeholder">
        <div class="placeholder-icon">🍽️</div>
      </div>
    <% end %>
  <% rescue => e %>
    <div class="menu-item-image-placeholder">
      <div class="placeholder-icon">🍽️</div>
    </div>
  <% end %>

  <div class="menu-item-header">
    <h3 class="menu-item-name"><%= menu_item.name %></h3>
    <span class="menu-item-price"><%= number_to_currency(menu_item.price, unit: "$", precision: 2, locale: :en) %></span>
  </div>

  <% if menu_item.description.present? %>
    <p class="menu-item-description"><%= simple_format(menu_item.description) %></p>
  <% end %>

  <% if menu_item.comment.present? %>
    <p class="menu-item-comment"><%= simple_format(menu_item.comment) %></p>
  <% end %>
</div>